{"version":3,"file":"vue-pagination.js","sources":["..//Users/yuqiu/github/vue-pagination/src/page.js","..//Users/yuqiu/github/vue-pagination/src/page.css","..//Users/yuqiu/github/vue-pagination/src/main.js"],"sourcesContent":["let optionsDefault = {\n\tpageSize: 10,\n\tremote: {\n\t\tpageIndexName: 'pageIndex',\n\t\tpageSizeName: 'pageSize',\n\t\tparams: {},\n\t\turl: '',\n\t\ttotalName: 'total',\n\t\toffset: 0\n\t},\n\tpageSizeItems: [5, 10, 15, 20],\n\tshowInfo: false,\n\tshowJump: false,\n\tlistNumber: 7\n};\n\nfunction getData(index, size, page) {\n\tlet params = {\n\t\t[optionsDefault.remote.pageIndexName]: index + optionsDefault.remote.offset, [optionsDefault.remote.pageSizeName]: size\n\t};\n\tObject.assign(params, optionsDefault.remote.params);\n\tlet ajax = page.$ajax || page.$http;\n\tajax.get(optionsDefault.remote.url, params).then(function(res) {\n\t\tvar resData = res.data;\n\t\tpage.pageData = resData[optionsDefault.remote.dataKey]\n\t\tpage.pageLimit.total = resData[optionsDefault.remote.totalName];\n\t\tif (page.pageLimit.total % optionsDefault.pageSize == 0) {\n\t\t\tpage.pageLimit.max = Math.floor(page.pageLimit.total / optionsDefault.pageSize);\n\t\t} else {\n\t\t\tpage.pageLimit.max = Math.floor(page.pageLimit.total / optionsDefault.pageSize + 1);\n\t\t}\n\n\t\tpageListInit(index, page);\n\t}, function(error) {\n\t\tconsole.log(error);\n\t})\n};\n\nfunction pageListInit(now, page) {\n\tlet arr = [];\n\tfor (let i = 1; i <= page.pageLimit.max; i++) {\n\t\tarr.push(i)\n\t}\n\tif (now < optionsDefault.listNumber) {\n\t\tpage.pageList = arr.slice(0, 9);\n\n\t} else if (now > page.pageLimit.max - optionsDefault.listNumber + 1) {\n\t\tpage.pageList = arr.slice(-9);\n\t} else {\n\t\tlet start = now - 1 - Math.floor(optionsDefault.listNumber / 2);\n\t\tpage.pageList = arr.slice(start, start + optionsDefault.listNumber);\n\t}\n};\n\nexport default {\n\treplace: true,\n  \tinherit: false,\n\ttemplate: '<div class=\"lj-pagination\"><div class=\"lj-info\" v-if=\"showInfo\"></div><div class=\"lj-jump\" v-if=\"showJump\"><input type=\"text\" v-model=\"pageJump\"/><span>搜索</span></div><ul class=\"lj-page\" v-if=\"showList\"><li @click=\"first\" v-show=\"pageStart != 1\"><span>首页</span></li><li @click=\"prev\" v-show=\"pageStart != 1\"><span>上一页</span></li><li :class=\"{\\'active\\': el == pageStart}\" @click=\"pagePath(el)\" v-for=\"el in pageList\"><span>{{el}}</span></li><li @click=\"next\" v-show=\"pageStart != pageLimit.max\"><span>下一页</span></li><li @click=\"last\" v-show=\"pageStart != pageLimit.max\"><span>尾页</span></li></ul></div>',\n\tdata: function() {\n\t\treturn {\n\t\t\tshowJump: false,\n\t\t\tshowInfo: false,\n\t\t\tpageJump: '',\n\t\t\tpageList: [1],\n\t\t\tpageStart: 1,\n\t\t\tshowList: true,\n\t\t\tpageLimit: {\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\ttotal: 1\n\t\t\t}\n\t\t}\n\t},\n\tready: function() {\n\t\tconsole.log(this.$ajaxOptionsDefault);\n\t\tObject.assign(optionsDefault, this.$ajaxOptionsDefault);\n\t\tgetData(1, 10, this);\n\t},\n\tmethods: {\n\t\tpagePath: function(page) {\n\t\t\tthis.pageStart = page;\n\t\t\tgetData(this.pageStart, optionsDefault.pageSize, this);\n\t\t},\n\t\tfirst: function() {\n\t\t\tthis.pageStart = 1;\n\t\t},\n\t\tlast: function() {\n\t\t\tthis.pageStart = this.pageLimit.max\n\t\t},\n\t\tprev: function() {\n\t\t\tthis.pageStart > this.pageLimit.min ? this.pageStart-- : this.pageStart = 1;\n\t\t},\n\t\tnext: function() {\n\t\t\tthis.pageStart < this.pageLimit.max ? this.pageStart++ : this.pageStart = this.max;\n\t\t}\n\t}\n}",".lj-pagination{\n\tfont-size: 12px;\n\ttext-align: center;\n\t.lj-ibfo,.lj-jump,.lj-page{\n\t\tfloat: left;\n\t}\n\t.lj-page{\n\t\tmargin: 0;\n\t\tli{\n\t\t\tlist-style: none;\n\t\t\tborder: 1px solid #e6e6e6;\n\t\t\tbackground: #f8f8f8;\n\t\t\tmargin-right: 10px;\n\t\t\tfloat: left;\n\t\t\t&.active{\n\t\t\t\tcolor: red;\n\t\t\t}\n\t\t\tspan{\n\t\t\t\theight: 18px;\n\t\t\t\tline-height: 18px;\n\t\t\t\tpadding: 0 5px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\t}\n}\n","import './page.css';\nimport Page from './page.js';\n\n\nlet Vue ;\n\n\n\nclass Pagination {\n\tconstructor ({\n\t\tpageSize = 10,\n\t\tremote = {\n\t\t\tpageIndexName : 'pageIndex',\n\t\t\tpageSizeName : 'pageSize',\n\t\t\tparams : {},\n\t\t\turl :  '',\n\t\t\ttotalName: 'total',\n\t\t\toffset: 0\n\t\t},\n\t\tpageSizeItems = [5,10,15,20],\n\t\tshowInfo = false,\n\t\tshowJump = false\n\t} = {}) {\n\t\tthis._options = {\n\t\t\tpageSize: pageSize,\n\t\t\tremote: remote,\n\t\t\tpageSizeItems: pageSizeItems,\n\t\t\tshowJump: showJump,\n\t\t\tshowInfo: showInfo\n\t\t};\n\t\t\n\t}\n\n\tinit (){\n\t\tVue.prototype.$ajaxOptionsDefault = this._options;\n\t\tif (typeof window !== 'undefined' && window.document) {\n  \t\t\t//window.document.head.append();\n\t\t}\n\t\tVue.component('pagination', Vue.extend(Page))\n\t}\n}\n\nPagination.install = function (externalVue){\n\tVue = externalVue;\n\tif (typeof window !== 'undefined' && window.jQuery) {\n\t\tVue.ajax = jQuery;\n\t\tVue.prototype.$ajax = jQuery;\n\t}\t\n}\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(Pagination)\n}\n\nexport default Pagination"],"names":[],"mappings":"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"}