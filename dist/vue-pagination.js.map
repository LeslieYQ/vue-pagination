{"version":3,"file":"vue-pagination.js","sources":["..//Users/yuqiu/github/vue-pagination/src/page.js","..//Users/yuqiu/github/vue-pagination/src/page.css","..//Users/yuqiu/github/vue-pagination/src/main.js"],"sourcesContent":["let optionsDefault = {\n\tpageSize: 10,\n\tremote: {\n\t\tpageIndexName: 'pageIndex',\n\t\tpageSizeName: 'pageSize',\n\t\tparams: {},\n\t\turl: '',\n\t\ttotalName: 'total',\n\t\toffset: 0\n\t},\n\tpageSizeItems: [5, 10, 15, 20],\n\tshowInfo: false,\n\tshowJump: false,\n\tlistNumber: 7\n};\nlet vueObj = {length: 0};\n\nfunction getData(pageIndex) {\n\tlet params = {\n\t\t[this.$optionsDefault.remote.pageIndexName]: pageIndex + this.$optionsDefault.remote.offset, [this.$optionsDefault.remote.pageSizeName]: this.$optionsDefault.pageSize\n\t};\n\tObject.assign(params, this.$optionsDefault.remote.params);\n\tlet ajax = this.$ajax || this.$http;\n\tajax.get(this.$optionsDefault.remote.url, params).then((res) => {\n\t\tvar resData = res.data;\n\t\tthis.pageData = this.$optionsDefault.remote.dataKey ? resData[this.$optionsDefault.remote.dataKey]: resData;\n\t\tthis.pageLimit.total = resData[this.$optionsDefault.remote.totalName];\n\t\tif (this.pageLimit.total % this.$optionsDefault.pageSize == 0) {\n\t\t\tthis.pageLimit.max = Math.floor(this.pageLimit.total / this.$optionsDefault.pageSize) || 5;\n\t\t} else {\n\t\t\tthis.pageLimit.max = Math.floor(this.pageLimit.total / this.$optionsDefault.pageSize + 1) || 5;\n\t\t}\n\t\tpageListInit.call(this,pageIndex)\n\t}, function(error) {\n\t\tconsole.error(error)\n\t})\n};\n\nfunction pageListInit(now) {\n\tlet arr = [];\n\tfor (let i = 1; i <= this.pageLimit.max; i++) {\n\t\tarr.push(i)\n\t}\n\tif (now <this.$optionsDefault.listNumber) {\n\t\tthis.pageList = arr.slice(0, 9);\n\n\t} else if (now > this.pageLimit.max - optionsDefault.listNumber + 1) {\n\t\tthis.pageList = arr.slice(-9);\n\t} else {\n\t\tlet start = now - 1 - Math.floor(optionsDefault.listNumber / 2);\n\t\tthis.pageList = arr.slice(start, start + optionsDefault.listNumber);\n\t}\n};\n\nlet pagination = {\n\treplace: true,\n  \tinherit: false,\n  \tprops:['pageData','url', 'name'],\n\ttemplate: '<div class=\"lj-pagination\"><div class=\"lj-info\" v-if=\"showInfo\"></div><div class=\"lj-jump\" v-if=\"showJump\"><input type=\"text\" v-model=\"pageJump\"/><span>search</span></div>'+\n\t'<ul class=\"lj-page\" v-if=\"showList\"><li @click=\"first\" v-show=\"pageStart != 1\"><span>first</span></li><li @click=\"prev\" v-show=\"pageStart != 1\" class=\"button\"><span>Prev</span></li><li :class=\"{\\'active\\': el == pageStart}\" @click=\"pagePath(el)\" v-for=\"el in pageList\"><span>{{el}}</span></li>'+ \n\t'<li @click=\"next\" v-show=\"pageStart != pageLimit.max\" class=\"button\"><span>Next</span></li><li @click=\"last\" v-show=\"pageStart != pageLimit.max\"><span>Last</span></li></ul></div>',\n\tdata: function() {\n\t\treturn {\n\t\t\tshowJump: false,\n\t\t\tshowInfo: false,\n\t\t\tpageJump: '',\n\t\t\tpageList: [1],\n\t\t\tpageStart: 1,\n\t\t\tshowList: true,\n\t\t\tpageLimit: {\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 10,\n\t\t\t\ttotal: 1\n\t\t\t}\n\t\t}\n\t},\n\tready: function() {\n\t\tthis.$optionsDefault = {};\n\t\tObject.assign(this.$optionsDefault,optionsDefault,this.$ajaxOptionsDefault);\n\t\tif(this.url){\n\t\t\tthis.$optionsDefault.remote.url = this.url;\n\t\t}\n\t\tif(this.name){\n\t\t\tvueObj[this.name] = this;\n\t\t\tvueObj.length ++;\n\t\t}else{\n\t\t\tvueObj[vueObj.length] = this;\n\t\t\tvueObj.length ++;\n\t\t}\n\t\tgetData.call(this,1,10);\n\t},\n\tmethods: {\n\t\tpagePath(pageNumber) {\n\t\t\tthis.pageStart = pageNumber;\n\t\t\tgetData.call(this,this.pageStart);\n\t\t},\n\t\tfirst () {\n\t\t\tthis.pageStart = 1;\n\t\t\tgetData.call(this,this.pageStart);\n\t\t},\n\t\tlast() {\n\t\t\tthis.pageStart = this.pageLimit.max;\n\t\t\tgetData.call(this,this.pageStart);\n\t\t},\n\t\tprev() {\n\t\t\tthis.pageStart > this.pageLimit.min ? this.pageStart-- : this.pageStart = 1;\n\t\t\tgetData.call(this,this.pageStart);\n\t\t},\n\t\tnext() {\n\t\t\tthis.pageStart < this.pageLimit.max ? this.pageStart++ : this.pageStart = this.max;\n\t\t\tgetData.call(this,this.pageStart, optionsDefault.pageSize);\n\t\t}\n\t}\n}\n\nlet restart = function(name){\n\tlet pageInstance = vueObj[name];\n\tif(!pageInstance){\n\t\tconsole.error('没有实例，检查你的参数,后面是所有实例集合', vueObj)\n\t\treturn;\n\t}\n\tpageInstance.pageStart = 1;\n\tgetData.call(pageInstance, pageInstance.pageStart);\n}\n\nexport default {\n\tpagination: pagination,\n\trestart: restart\n}",".lj-pagination{\n\tmargin: 10px 0;\n\tcolor: #282F31;\n}\n\n.lj-page{\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 1px solid #e6e6e6;\n\tborder-radius: 3px;\n\tdisplay: inline-block;\n}\n\n.lj-page:after{\n\tcontent: \" \";\n\tdisplay: table;\n\tclear: both;\n}\n\n\n.lj-page li{\n\tfloat: left;\n\tborder-right: 1px solid #e6e6e6;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.lj-page li:last-of-type{\n\tborder-right: none;\n}\n\n.lj-page li:hover{\n\tbackground: #00cff5;\n\tcolor:  white;\n}\n\n.lj-page li.active{\n\tbackground: #00cff5;\n\tcolor:  white;\n}\n\n.lj-page li span{\n\tpadding: 1em;\n\tdisplay: inline-block;\n}","import Page from './page.js'\nimport './page.css'\n\nlet Vue ;\nlet page ;\n\nclass Pagination {\n\tconstructor ({\n\t\tpageSize = 10,\n\t\tremote = {\n\t\t\tpageIndexName : 'pageIndex',\n\t\t\tpageSizeName : 'pageSize',\n\t\t\tparams : {},\n\t\t\turl :  '',\n\t\t\ttotalName: 'total',\n\t\t\toffset: 0\n\t\t},\n\t\tpageSizeItems = [5,10,15,20],\n\t\tshowInfo = false,\n\t\tshowJump = false\n\t} = {}) {\n\t\tthis._options = {\n\t\t\tpageSize: pageSize,\n\t\t\tremote: remote,\n\t\t\tpageSizeItems: pageSizeItems,\n\t\t\tshowJump: showJump,\n\t\t\tshowInfo: showInfo\n\t\t};\n\t}\n\n\tinit (){\n\t\tVue.prototype.$ajaxOptionsDefault = this._options;\n\t\tVue.prototype.$page = this;\n\t\tif (typeof window !== 'undefined' && window.document) {\n  \t\t\t//require(__dirname + '/page.css')\n\t\t}\n\t\t\n\t\tVue.component('pagination', Vue.extend(Page.pagination))\n\t}\n\n\trestart(name = 0){\n\t\tPage.restart(name);\n\t}\n}\n\nPagination.install = function (externalVue){\n\tVue = externalVue;\n\tif (typeof window !== 'undefined' && window.jQuery) {\n\t\tVue.ajax = jQuery;\n\t\tVue.prototype.$ajax = jQuery;\n\t}\t\n}\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(Pagination)\n}\n\nexport default Pagination"],"names":[],"mappings":"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"}