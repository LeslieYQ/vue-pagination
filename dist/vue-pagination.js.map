{"version":3,"file":"vue-pagination.js","sources":["..//Users/yuqiu/github/vue-pagination/src/page.js","..//Users/yuqiu/github/vue-pagination/src/page.css","..//Users/yuqiu/github/vue-pagination/src/main.js"],"sourcesContent":["let optionsDefault = {\n    pageSize: 10,\n    remote: {\n        pageIndexName: 'pageIndex',\n        pageSizeName: 'pageSize',\n        params: {},\n        url: '',\n        totalName: 'total',\n        offset: 0\n    },\n    pageSizeItems: [5, 10, 15, 20],\n    showInfo: false,\n    showJump: false,\n    listNumber: 7\n};\nlet vueObj = { length: 0 };\n\nfunction getData(pageIndex) {\n    let params = {\n        [this.$optionsDefault.remote.pageIndexName]: pageIndex + this.$optionsDefault.remote.offset,\n        [this.$optionsDefault.remote.pageSizeName]: this.$optionsDefault.pageSize\n    };\n    Object.assign(params, this.$optionsDefault.remote.params);\n    let ajax = this.$ajax || this.$http;\n    ajax.get(this.$optionsDefault.remote.url, params).then((res) => {\n        var resData = res.data;\n        this.pageData = this.$optionsDefault.remote.dataKey ? resData[this.$optionsDefault.remote.dataKey] : resData;\n        this.pageLimit.total = resData[this.$optionsDefault.remote.totalName];\n        if (this.pageLimit.total % this.$optionsDefault.pageSize == 0) {\n            this.pageLimit.max = Math.floor(this.pageLimit.total / this.$optionsDefault.pageSize) || 5;\n        } else {\n            this.pageLimit.max = Math.floor(this.pageLimit.total / this.$optionsDefault.pageSize + 1) || 5;\n        }\n        pageListInit.call(this, pageIndex)\n    }, function(error) {\n        console.error(error)\n    })\n};\n\nfunction pageListInit(now) {\n    let arr = [];\n    for (let i = 1; i <= this.pageLimit.max; i++) {\n        arr.push(i)\n    }\n    if (now < this.$optionsDefault.listNumber) {\n        this.pageList = arr.slice(0, 9);\n\n    } else if (now > this.pageLimit.max - optionsDefault.listNumber + 1) {\n        this.pageList = arr.slice(-9);\n    } else {\n        let start = now - 1 - Math.floor(optionsDefault.listNumber / 2);\n        this.pageList = arr.slice(start, start + optionsDefault.listNumber);\n    }\n};\n\nlet pagination = {\n    replace: true,\n    inherit: false,\n    props: ['pageData', 'url', 'name'],\n    template: '<div class=\"lj-pagination\"><div class=\"lj-info\" v-if=\"showInfo\"></div><div class=\"lj-jump\" v-if=\"showJump\"><input type=\"text\" v-model=\"pageJump\"/><span>search</span></div>' +\n        '<ul class=\"lj-page\" v-if=\"showList\"><li @click=\"first\" v-show=\"pageStart != 1\"><span>first</span></li><li @click=\"prev\" v-show=\"pageStart != 1\" class=\"button\"><span>Prev</span></li><li :class=\"{\\'active\\': el == pageStart}\" @click=\"pagePath(el)\" v-for=\"el in pageList\"><span>{{el}}</span></li>' +\n        '<li @click=\"next\" v-show=\"pageStart != pageLimit.max\" class=\"button\"><span>Next</span></li><li @click=\"last\" v-show=\"pageStart != pageLimit.max\"><span>Last</span></li></ul></div>',\n    data() {\n        return {\n            showJump: false,\n            showInfo: false,\n            pageJump: '',\n            pageList: [1],\n            pageStart: 1,\n            showList: true,\n            pageLimit: {\n                min: 1,\n                max: 10,\n                total: 1\n            }\n        }\n    },\n    ready() {\n        this.$optionsDefault = {};\n        Object.assign(this.$optionsDefault, optionsDefault, this.$ajaxOptionsDefault);\n        if (this.url) {\n            this.$optionsDefault.remote.url = this.url;\n        }\n        if (this.name) {\n            vueObj[this.name] = this;\n            vueObj.length++;\n        } else {\n            vueObj[vueObj.length] = this;\n            vueObj.length++;\n        }\n        getData.call(this, 1, 10);\n    },\n    methods: {\n        pagePath(pageNumber) {\n            this.pageStart = pageNumber;\n            getData.call(this, this.pageStart);\n        },\n        first() {\n            this.pageStart = 1;\n            getData.call(this, this.pageStart);\n        },\n        last() {\n            this.pageStart = this.pageLimit.max;\n            getData.call(this, this.pageStart);\n        },\n        prev() {\n            this.pageStart > this.pageLimit.min ? this.pageStart-- : this.pageStart = 1;\n            getData.call(this, this.pageStart);\n        },\n        next() {\n            this.pageStart < this.pageLimit.max ? this.pageStart++ : this.pageStart = this.max;\n            getData.call(this, this.pageStart, optionsDefault.pageSize);\n        }\n    }\n}\n\nlet restart = function(name) {\n    let pageInstance = vueObj[name];\n    if (!pageInstance) {\n        console.error('没有实例，检查你的参数,后面是所有实例集合', vueObj)\n        return;\n    }\n    pageInstance.pageStart = 1;\n    getData.call(pageInstance, pageInstance.pageStart);\n}\n\nlet reset = function(options, name) {\n    let pageInstance = vueObj[name];\n    if (!pageInstance) {\n        console.error('没有实例，检查你的参数,后面是所有实例集合', vueObj)\n        return;\n    }\n    pageInstance.$optionsDefault = options\n    if (pageInstance.url) {\n        pageInstance.$optionsDefault.remote.url = pageInstance.url;\n    }\n    pageInstance.pageStart = 1;\n    getData.call(pageInstance, pageInstance.pageStart);\n}\n\nlet setParams = function(params, name) {\n    let pageInstance = vueObj[name];\n    if (!pageInstance) {\n        console.error('没有实例，检查你的参数,后面是所有实例集合', vueObj)\n        return;\n    }\n    pageInstance.$optionsDefault.remote.params = params\n    pageInstance.pageStart = 1;\n    getData.call(pageInstance, pageInstance.pageStart);\n}\n\nexport default {\n    pagination: pagination,\n    restart: restart,\n    setParams: setParams,\n    reset: reset\n}",".lj-pagination{\n\tmargin: 10px 0;\n\tcolor: #282F31;\n}\n\n.lj-page{\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 1px solid #e6e6e6;\n\tborder-radius: 3px;\n\tdisplay: inline-block;\n}\n\n.lj-page:after{\n\tcontent: \" \";\n\tdisplay: table;\n\tclear: both;\n}\n\n\n.lj-page li{\n\tfloat: left;\n\tborder-right: 1px solid #e6e6e6;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.lj-page li:last-of-type{\n\tborder-right: none;\n}\n\n.lj-page li:hover{\n\tbackground: #00cff5;\n\tcolor:  white;\n}\n\n.lj-page li.active{\n\tbackground: #00cff5;\n\tcolor:  white;\n}\n\n.lj-page li span{\n\tpadding: 1em;\n\tdisplay: inline-block;\n}","import Page from './page.js'\nimport './page.css'\n\nlet Vue ;\n\nclass Pagination {\n\tconstructor ({\n\t\tpageSize = 10,\n\t\tremote = {\n\t\t\tpageIndexName : 'pageIndex',\n\t\t\tpageSizeName : 'pageSize',\n\t\t\tparams : {},\n\t\t\turl :  '',\n\t\t\ttotalName: 'total',\n\t\t\toffset: 0\n\t\t},\n\t\tpageSizeItems = [5,10,15,20],\n\t\tshowInfo = false,\n\t\tshowJump = false\n\t} = {}) {\n\t\tthis._options = {\n\t\t\tpageSize: pageSize,\n\t\t\tremote: remote,\n\t\t\tpageSizeItems: pageSizeItems,\n\t\t\tshowJump: showJump,\n\t\t\tshowInfo: showInfo\n\t\t};\n\n\t\tVue.prototype.$ajaxOptionsDefault = this._options;\n\t\tVue.prototype.$page = this;\n\t\tVue.component('pagination', Vue.extend(Page.pagination))\n\t}\n\n\n\trestart(name = 0){\n\t\tPage.restart(name);\n\t}\n\n\treset(options, name = 0){\n\t\tPage.reset(options, name)\n\t}\n\n\tsetParams(params, name = 0){\n\t\tPage.setParams(params, name)\n\t}\n}\n\nPagination.install = function (externalVue){\n\tVue = externalVue;\n\tif (typeof window !== 'undefined' && window.jQuery) {\n\t\tVue.ajax = jQuery;\n\t\tVue.prototype.$ajax = jQuery;\n\t}\t\n}\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(Pagination)\n}\n\nexport default Pagination"],"names":[],"mappings":"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"}